<?php eval(base64_decode("LyoqICogR29NYWdlLmNvbSAqICogR29NYWdlIE5hdmlnYXRpb24gTTIgKiAqIEBjYXRlZ29yeSBFeHRlbnNpb24gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxOC0yMDE4IEdvTWFnZS5jb20gKGh0dHBzOi8vd3d3LmdvbWFnZS5jb20pICogQGF1dGhvciBHb01hZ2UuY29tICogQGxpY2Vuc2UgaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9saWNlbnNpbmcgU2luZ2xlIGRvbWFpbiBsaWNlbnNlICogQHRlcm1zIG9mIHVzZSBodHRwczovL3d3dy5nb21hZ2UuY29tL3Rlcm1zLW9mLXVzZSAqIEB2ZXJzaW9uIFJlbGVhc2U6IDIuMC4wICogQHNpbmNlIENsYXNzIGF2YWlsYWJsZSBzaW5jZSBSZWxlYXNlIDIuMC4wICovIG5hbWVzcGFjZSBHb01hZ2VcTmF2aWdhdGlvblxIZWxwZXI7IHVzZSBHb01hZ2VcTmF2aWdhdGlvblxIZWxwZXJcQ29uZmlnXFN5c3RlbUNvbmZpZ0ludGVyZmFjZTsgdXNlIE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxIZWxwZXJcQ29udGV4dDsgLyoqICogQ2xhc3MgRGF0YSAqICogQHBhY2thZ2UgR29NYWdlXE5hdmlnYXRpb25cSGVscGVyICovIGNsYXNzIERhdGEgZXh0ZW5kcyBcTWFnZW50b1xGcmFtZXdvcmtcQXBwXEhlbHBlclxBYnN0cmFjdEhlbHBlciB7IC8qKiAqICovIGNvbnN0IEFMSUdOTUVOVF9WRVJUSUNBTCA9IDA7IGNvbnN0IEFMSUdOTUVOVF9IT1JJWk9OVEFMID0gMTsgY29uc3QgQUxJR05NRU5UXzJDT0xVTU4gPSAyOyBwcm90ZWN0ZWQgJF9lbmNyeXB0b3I7IC8qKiAqIEB2YXIgXE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxDb25maWdcU2NvcGVDb25maWdJbnRlcmZhY2UgKi8gcHJvdGVjdGVkICRzY29wZUNvbmZpZzsgcHJvdGVjdGVkICRhc3NldFJlcG9zaXRvcnk7IHByb3RlY3RlZCAkZGF0YUhlbHBlckNvcmU7IHByb3RlY3RlZCAkc2hvd01vcmUgPSBbXTsgcHJvdGVjdGVkICRfb2JqZWN0TWFuYWdlcjsgcHJvdGVjdGVkICRfbW9kdWxlTGlzdDsgcHJvdGVjdGVkICRfZGlyZWN0b3J5OyBwcm90ZWN0ZWQgJF9qc29uSGVscGVyOyBwcm90ZWN0ZWQgJF9zeXN0ZW1TdG9yZTsgcHJvdGVjdGVkICRfZGF0ZVRpbWU7IGNvbnN0IENPTlRFTlQgPSAxOyAvKiogKiBAdmFyIFxNYWdlbnRvXEZyYW1ld29ya1xBcHBcUmVxdWVzdFxIdHRwICovIHByb3RlY3RlZCAkcmVxdWVzdDsgcHJvdGVjdGVkICRjbXNQYWdlOyBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoIENvbnRleHQgJGNvbnRleHQsIFxNYWdlbnRvXEZyYW1ld29ya1xWaWV3XEFzc2V0XFJlcG9zaXRvcnkgJGFzc2V0UmVwb3NpdG9yeSwgXE1hZ2VudG9cRnJhbWV3b3JrXEVuY3J5cHRpb25cRW5jcnlwdG9yICRlbmNyeXB0b3IsIFxNYWdlbnRvXENtc1xNb2RlbFxQYWdlICRjbXNQYWdlICkgeyAkdGhpcy0+X29iamVjdE1hbmFnZXIgPSBcTWFnZW50b1xGcmFtZXdvcmtcQXBwXE9iamVjdE1hbmFnZXI6OmdldEluc3RhbmNlKCk7ICR0aGlzLT5fc3RvcmVNYW5hZ2VyID0gJHRoaXMtPl9vYmplY3RNYW5hZ2VyLT5nZXQoJ01hZ2VudG9cU3RvcmVcTW9kZWxcU3RvcmVNYW5hZ2VyJyk7ICR0aGlzLT5fbW9kdWxlTGlzdCA9ICR0aGlzLT5fb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXEZyYW1ld29ya1xNb2R1bGVcTW9kdWxlTGlzdCcpOyAkdGhpcy0+X2pzb25IZWxwZXIgPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmdldCgnTWFnZW50b1xGcmFtZXdvcmtcSnNvblxIZWxwZXJcRGF0YScpOyAkZmlsZXN5c3RlbSA9ICR0aGlzLT5fb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXEZyYW1ld29ya1xGaWxlc3lzdGVtJyk7ICR0aGlzLT5fZGlyZWN0b3J5ID0gJGZpbGVzeXN0ZW0tPmdldERpcmVjdG9yeVJlYWQoXE1hZ2VudG9cRnJhbWV3b3JrXEFwcFxGaWxlc3lzdGVtXERpcmVjdG9yeUxpc3Q6Ok1FRElBKTsgJHRoaXMtPl9zdG9yZU1hbmFnZXIgPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmdldCgnTWFnZW50b1xTdG9yZVxNb2RlbFxTdG9yZU1hbmFnZXInKTsgJHRoaXMtPl9zeXN0ZW1TdG9yZSA9ICR0aGlzLT5fb2JqZWN0TWFuYWdlci0+Z2V0KCdNYWdlbnRvXFN0b3JlXE1vZGVsXFN5c3RlbVxTdG9yZScpOyAkdGhpcy0+X2RhdGVUaW1lID0gJHRoaXMtPl9vYmplY3RNYW5hZ2VyLT5nZXQoJ01hZ2VudG9cRnJhbWV3b3JrXFN0ZGxpYlxEYXRlVGltZVxEYXRlVGltZScpOyAkdGhpcy0+X2VuY3J5cHRvciA9ICRlbmNyeXB0b3I7ICR0aGlzLT5jbXNQYWdlID0gJGNtc1BhZ2U7ICR0aGlzLT5hc3NldFJlcG9zaXRvcnkgPSAkYXNzZXRSZXBvc2l0b3J5OyBwYXJlbnQ6Ol9fY29uc3RydWN0KCRjb250ZXh0KTsgJHRoaXMtPnNjb3BlQ29uZmlnID0gJGNvbnRleHQtPmdldFNjb3BlQ29uZmlnKCk7ICR0aGlzLT5yZXF1ZXN0ID0gJGNvbnRleHQtPmdldFJlcXVlc3QoKTsgfSAvKiogKiBAcGFyYW0gJHBhcmFtICogQHBhcmFtIHN0cmluZyAkc2VjdGlvbiAqIEByZXR1cm4gbWl4ZWQgKi8gcHVibGljIGZ1bmN0aW9uIGdldFNjb3BlRGF0YSgkcGFyYW0sICRzZWN0aW9uID0gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NFQ1RJT04pIHsgcmV0dXJuICR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoICRzZWN0aW9uIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NMQVNIIC4gJHBhcmFtLCBcTWFnZW50b1xTdG9yZVxNb2RlbFxTY29wZUludGVyZmFjZTo6U0NPUEVfU1RPUkUgKTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNFbmFibGUoKSB7ICRpbmZvID0gJHRoaXMtPmdhKCk7IHJldHVybiBpc3NldCgkaW5mb1snZCddKSAmJiBpc3NldCgkaW5mb1snYyddKSAmJiAoaW50KSRpbmZvWydjJ10gJiYgJHRoaXMtPmdldFNjb3BlRGF0YSggU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX0NST1VQIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NMQVNIIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX0ZJRUxEX0VOQUJMRSApOyB9IC8qKiAqIEBwYXJhbSAkaXRlbSAqIEBwYXJhbSAkcmVxdWVzdFZhciAqLyBwdWJsaWMgZnVuY3Rpb24gY2hlY2tJc0FjdGl2ZSgkaXRlbSwgJHJlcXVlc3RWYXIpIHsgJHBhcmFtcyA9ICR0aGlzLT5yZXF1ZXN0LT5nZXRQYXJhbSgkcmVxdWVzdFZhcik7ICRwYXJhbXMgPSBleHBsb2RlKCdfJywgJHBhcmFtcyk7ICRsYWJlbCA9IHVybGVuY29kZShtYl9zdHJ0b2xvd2VyKCRpdGVtLT5nZXRMYWJlbCgpKSk7IGlmICgkdGhpcy0+aXNVc2VGcmllbmRseVVybHMoKSAmJiBpbl9hcnJheSgkbGFiZWwsICRwYXJhbXMpKSB7ICRpdGVtLT5zZXRJc0FjdGl2ZSh0cnVlKTsgfSBpZiAoISR0aGlzLT5pc1VzZUZyaWVuZGx5VXJscygpICYmIGluX2FycmF5KCRpdGVtLT5nZXRWYWx1ZSgpLCAkcGFyYW1zKSkgeyAkaXRlbS0+c2V0SXNBY3RpdmUodHJ1ZSk7IH0gfSAvKiogKiBAcmV0dXJuIG1peGVkICovIHB1YmxpYyBmdW5jdGlvbiBnZXRTaG93U2hvcEJ5SW4oKSB7IHJldHVybiAoaW50KSR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19DUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9TSE9XX1NIT1BfQllfSU4gKTsgfSAvKiogKiBAcmV0dXJuIG1peGVkICovIHB1YmxpYyBmdW5jdGlvbiBpc1Nob3dFbXB0eUNhdGVnb3J5KCkgeyByZXR1cm4gISgkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DQVRFR09SSUVTX0NPTkZJR19DUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NBVEVHT1JJRVNfQ09ORklHX0hJREVfRU1QVFlfQ0FURUdPUklFUyApKTsgfSBwdWJsaWMgZnVuY3Rpb24gcmVtb3ZlQmxvY0NhdGVnb3JpZXNPckNhdGVnb3J5KCkgeyBpZiAoJHRoaXMtPmdldFNjb3BlRGF0YSggU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX0NST1VQIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NMQVNIIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX0ZJRUxEX1NIT1dfU0hPUF9CWV9JTiApICkgeyByZXR1cm4gJ2dvbWFnZS5jYXRlZ29yaWVzJzsgfSB9IC8qKiAqIEByZXR1cm4gaW50ICovIHB1YmxpYyBmdW5jdGlvbiBpc1VzZUF1dG9TY3JvbGxpbmcoKSB7IHJldHVybiAoaW50KSR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19DUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9VU0VfQVVUT1NDUk9MTElORyApOyB9IC8qKiAqIEByZXR1cm4gaW50ICovIHB1YmxpYyBmdW5jdGlvbiBpc1VzZUJhY2tUb1RvcEJ1dHRvbigpIHsgJHZhbHVlID0gKGludCkkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfVVNFX0JBQ0tfVE9fVE9QICk7IGlmICgkdmFsdWUgJiYgJHRoaXMtPmlzRW5hYmxlKCkpIHsgcmV0dXJuICdHb01hZ2VfTmF2aWdhdGlvbjo6bGF5ZXIvYmFja190b190b3AucGh0bWwnOyB9IHJldHVybiAnJzsgfSAvKiogKiBAcmV0dXJuIGludCAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0QmFja1RvVG9wU3BlZWQoKSB7IHJldHVybiAoaW50KSR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19DUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9VU0VfQkFDS19UT19UT1BfU1BFRUQgKTsgfSAvKiogKiBAcmV0dXJuIGludCAqLyBwdWJsaWMgZnVuY3Rpb24gZ2V0QmFja1RvVG9wQWN0aW9uKCkgeyByZXR1cm4gKGludCkkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfVVNFX0JBQ0tfVE9fVE9QX0FDVElPTiApOyB9IC8qKiAqIEByZXR1cm4gbWl4ZWQgKi8gcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRGaWx0ZXJUeXBlKCkgeyBpZiAoJHRoaXMtPmNtc1BhZ2UtPmdldElkKCkgJiYgISR0aGlzLT5jbXNQYWdlLT5nZXRMb2NhdGlvbigpID09IHNlbGY6OkNPTlRFTlQpIHsgcmV0dXJuIGZhbHNlOyB9IHJldHVybiAkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfQ09OVEVOVF9GSUxURVJfVFlQRSApOyB9IC8qKiAqIEByZXR1cm4gbWl4ZWQgKi8gcHVibGljIGZ1bmN0aW9uIGlzUGFnZXJCdXR0b24oKSB7IHJldHVybiAkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfUEFHRVJfQlVUVE9OICk7IH0gLyoqICogQHJldHVybiBtaXhlZCAqLyBwdWJsaWMgZnVuY3Rpb24gaXNTaG93UGFnZXIoKSB7IHJldHVybiAkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0VUVElOR1NfR1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfUEFHRVIgKTsgfSAvKiogKiBAcmV0dXJuIG1peGVkICovIHB1YmxpYyBmdW5jdGlvbiBpc1Nob3dWYWx1ZVF0eSgpIHsgcmV0dXJuICR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TRVRUSU5HU19HUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9RVFkgKTsgfSAvKiogKiBAcmV0dXJuIG1peGVkICovIHB1YmxpYyBmdW5jdGlvbiBpc0FkZEZpbHRlclJlc3VsdHNUb1VybCgpIHsgcmV0dXJuICR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TRVRUSU5HU19HUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9VU0VfSEFTSCApOyB9IC8qKiAqIEByZXR1cm4gbWl4ZWQgKi8gcHVibGljIGZ1bmN0aW9uIGlzVXNlRnJpZW5kbHlVcmxzKCkgeyByZXR1cm4gJHRoaXMtPmdldFNjb3BlRGF0YSggU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NFVFRJTkdTX0dST1VQIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX1NMQVNIIC4gU3lzdGVtQ29uZmlnSW50ZXJmYWNlOjpTWVNURU1fQ09ORklHX0ZJRUxEX1VTRV9GUklFTkRMWV9VUkxTICk7IH0gLyoqICogQHJldHVybiBtaXhlZCAqLyBwdWJsaWMgZnVuY3Rpb24gaXNTaG93QXBwbGllZFZhbHVlc0luUmVzdWx0cygpIHsgcmV0dXJuICR0aGlzLT5nZXRTY29wZURhdGEoIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TRVRUSU5HU19HUk9VUCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19TTEFTSCAuIFN5c3RlbUNvbmZpZ0ludGVyZmFjZTo6U1lTVEVNX0NPTkZJR19GSUVMRF9TSE9XX0FQUExJRURfVkFMVUVTICk7IH0gcHVibGljIGZ1bmN0aW9uIGdldE9wdGlvbnNBbGlnbm1lbnQoJGFsaWdubWVudE9wdGlvbikgeyBpZiAoc2VsZjo6QUxJR05NRU5UXzJDT0xVTU4gPT09ICRhbGlnbm1lbnRPcHRpb24pIHsgcmV0dXJuICdnYW4tYWxpZ24tMi1jb2x1bW5zJzsgfSBlbHNlaWYgKHNlbGY6OkFMSUdOTUVOVF9IT1JJWk9OVEFMID09PSAkYWxpZ25tZW50T3B0aW9uKSB7IHJldHVybiAnZ2FuLWFsaWduLWhvcml6b250YWxseSc7IH0gZWxzZSB7IHJldHVybiAnZ2FuLWFsaWduLWRlZmF1bHQnOyB9IH0gcHVibGljIGZ1bmN0aW9uIGlzUGFnaW5hdGlvbkFqYXgoKSB7IHJldHVybiAkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfUEFHSU5BVElPTl9FTkFCTEVEICk7IH0gcHVibGljIGZ1bmN0aW9uIGdldFBhZ2VyVGhlbWUoKSB7ICRpc0FqYXggPSAkdGhpcy0+Z2V0U2NvcGVEYXRhKCBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfQ1JPVVAgLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfU0xBU0ggLiBTeXN0ZW1Db25maWdJbnRlcmZhY2U6OlNZU1RFTV9DT05GSUdfRklFTERfUEFHSU5BVElPTl9FTkFCTEVEICk7IGlmICgoJGlzQWpheCB8fCAkdGhpcy0+aXNVc2VBdXRvU2Nyb2xsaW5nKCkpICYmICR0aGlzLT5pc0VuYWJsZSgpKSB7IHJldHVybiAnR29NYWdlX05hdmlnYXRpb246Omh0bWwvcGFnZXIucGh0bWwnOyB9IGVsc2UgeyByZXR1cm4gJ0dvTWFnZV9OYXZpZ2F0aW9uOjpodG1sL3BhZ2VyX25vX2FqYXgucGh0bWwnOyB9IH0gcHVibGljIGZ1bmN0aW9uIGdldFZhbHVlQ2F0ZWdvcnkoJHBhcmFtcykgeyAkYXJyQ2F0ID0gZXhwbG9kZSgnXycsICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ2NhdCcpKTsgJGNhdCA9ICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ2NhdCcpOyBpZiAoJGNhdCAmJiAhaW5fYXJyYXkoJHBhcmFtc1snY2F0J10sICRhcnJDYXQpKSB7ICRwYXJhbXNbJ2NhdCddID0gJHBhcmFtc1snY2F0J10gLiAnXycgLiAkY2F0OyB9IHJldHVybiAkcGFyYW1zWydjYXQnXTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0VXJsQ2F0ZWdvcnkoJHBhcmFtcykgeyAkYXJyQ2F0ID0gZXhwbG9kZSgnXycsICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ2NhdCcpKTsgJGNhdCA9ICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ2NhdCcpOyBpZiAoJGNhdCAmJiAhaW5fYXJyYXkoJHBhcmFtc1snY2F0J10sICRhcnJDYXQpKSB7ICRwYXJhbXNbJ2NhdCddID0gJHBhcmFtc1snY2F0J10gLiAnXycgLiAkY2F0OyB9IHJldHVybiAkdGhpcy0+X3VybEJ1aWxkZXItPmdldFVybCgnKi8qLyonLCBbJ19jdXJyZW50JyA9PiB0cnVlLCAnX3VzZV9yZXdyaXRlJyA9PiB0cnVlLCAnX3F1ZXJ5JyA9PiAkcGFyYW1zXSk7IH0gcHVibGljIGZ1bmN0aW9uIGlzVGhpc0FjdGl2ZUNhdGVnb3J5KCRuYW1lKSB7ICRhcnJDYXQgPSBleHBsb2RlKCcsJywgJHRoaXMtPnJlcXVlc3QtPmdldCgnY2F0JykpOyBpZiAoaW5fYXJyYXkoc3RydG9sb3dlcigkbmFtZSksICRhcnJDYXQpKSB7IHJldHVybiB0cnVlOyB9IHJldHVybiBmYWxzZTsgfSBwdWJsaWMgZnVuY3Rpb24gaXNSZXF1ZXN0TW9yZSgpIHsgcmV0dXJuICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ21vcmVfc2hvdycpOyB9IHB1YmxpYyBmdW5jdGlvbiBpc1Nob3dNb3JlKCRuYW1lKSB7IGlmICgkdGhpcy0+cmVxdWVzdC0+Z2V0KCdtb3JlX3Nob3cnKSkgeyAkdGhpcy0+c2hvd01vcmUgPSBleHBsb2RlKCdfJywgJHRoaXMtPnJlcXVlc3QtPmdldCgnbW9yZV9zaG93JykpOyByZXR1cm4gKGludClpbl9hcnJheShzdHJ0b2xvd2VyKCRuYW1lKSwgJHRoaXMtPnNob3dNb3JlKTsgfSByZXR1cm4gMDsgfSBwdWJsaWMgZnVuY3Rpb24gaXNDb2xsYXBzZWQoJG5hbWUgPSAnJywgJGlzUmVxdWVzdCA9IGZhbHNlKSB7IGlmICgkaXNSZXF1ZXN0KSB7IHJldHVybiAkdGhpcy0+cmVxdWVzdC0+Z2V0KCdjb2xsYXBzZWRfZXhwYW5kZWQnKTsgfSAkYXJyZXhwYW5kZWQgPSBleHBsb2RlKCdfJywgJHRoaXMtPnJlcXVlc3QtPmdldCgnY29sbGFwc2VkX2V4cGFuZGVkJykpOyBpZiAoaW5fYXJyYXkodXJsZW5jb2RlKHN0cnRvbG93ZXIoJG5hbWUpKSwgJGFycmV4cGFuZGVkKSkgeyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIGlzSW5hQ2F0ZWdvcnlSZXF1ZXN0KCRuYW1lLCAkY2F0ZWdvcnkgPSBudWxsKSB7IGlmICghJGNhdGVnb3J5KSB7ICRhcnJDYXQgPSBleHBsb2RlKCdfJywgJHRoaXMtPnJlcXVlc3QtPmdldCgnY2F0JykpOyBpZiAoaW5fYXJyYXkoc3RydG9sb3dlcigkbmFtZSksICRhcnJDYXQpKSB7IHJldHVybiB0cnVlOyB9IHJldHVybiBmYWxzZTsgfSBlbHNlIHsgJGFyckNhdCA9IGV4cGxvZGUoJ18nLCAkdGhpcy0+cmVxdWVzdC0+Z2V0KCdjYXQnKSk7IGlmIChpc19vYmplY3QoJGNhdGVnb3J5KSkgeyAkcGFyZW50ID0gJGNhdGVnb3J5LT5nZXRQYXJlbnRDYXRlZ29yeSgpOyAkcmVxdWVzdFBhcmVudCA9ICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ3BhcmVudF9jYXRfJyAuICRjYXRlZ29yeS0+Z2V0SWQoKSk7IGlmICgkcGFyZW50KSB7ICRwYXJlbnRJZCA9ICRwYXJlbnQtPmdldElkKCk7IH0gZWxzZSB7ICRwYXJlbnRJZCA9ICRjYXRlZ29yeS0+Z2V0SWQoKTsgfSBpZiAoaW5fYXJyYXkoc3RydG9sb3dlcigkbmFtZSksICRhcnJDYXQpICYmICgkcGFyZW50SWQgPT0gJHJlcXVlc3RQYXJlbnQgfHwgJHJlcXVlc3RQYXJlbnQgPT0gJGNhdGVnb3J5LT5nZXRJZCgpKSkgeyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gZWxzZSB7ICRwYXJlbnRJZCA9ICRjYXRlZ29yeVsncGFyZW50X2NhdCddOyAkcmVxdWVzdFBhcmVudCA9ICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ3BhcmVudF9jYXRfJyAuICRjYXRlZ29yeVsnZW50aXR5X2lkJ10pOyBpZiAoaW5fYXJyYXkoc3RydG9sb3dlcigkbmFtZSksICRhcnJDYXQpICYmICRwYXJlbnRJZCA9PSAkcmVxdWVzdFBhcmVudCkgeyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gfSB9IHB1YmxpYyBmdW5jdGlvbiBnZXRBc3NldHMoKSB7IHJldHVybiAkdGhpcy0+YXNzZXRSZXBvc2l0b3J5OyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRRdWVyeVNlYXJjaFRleHQoKSB7ICRxdWVyeSA9ICR0aGlzLT5yZXF1ZXN0LT5nZXQoJ3EnKTsgaWYgKCEkcXVlcnkpIHsgJHF1ZXJ5ID0gJyc7IH0gcmV0dXJuICRxdWVyeTsgfSAvKiogKiBAcmV0dXJuIGFycmF5ICovIHB1YmxpYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVXZWJzaXRlcygpIHsgaWYgKCEkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9uYXZpZ2F0aW9uL2luc3RhbGxlZCcpIHx8IChpbnR2YWwoJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX2FjdGl2YXRpb24vbmF2aWdhdGlvbi9jb3VudCcpKSA+IDEwKSApIHsgcmV0dXJuIFtdOyB9ICR0aW1lX3RvX3VwZGF0ZSA9IDYwICogNjAgKiAyNCAqIDE1OyAkciA9ICR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL25hdmlnYXRpb24vYXInKTsgJHQgPSAkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9uYXZpZ2F0aW9uL3RpbWUnKTsgJHMgPSAkdGhpcy0+c2NvcGVDb25maWctPmdldFZhbHVlKCdnb21hZ2VfYWN0aXZhdGlvbi9uYXZpZ2F0aW9uL3dlYnNpdGVzJyk7ICRsYXN0X2NoZWNrID0gc3RyX3JlcGxhY2UoJHIsICcnLCAkdGhpcy0+X2VuY3J5cHRvci0+ZGVjcnlwdCgkdCkpOyAkc2l0ZXMgPSBleHBsb2RlKCcsJywgc3RyX3JlcGxhY2UoJHIsICcnLCAkdGhpcy0+X2VuY3J5cHRvci0+ZGVjcnlwdCgkcykpKTsgJHNpdGVzID0gYXJyYXlfZGlmZigkc2l0ZXMsIFsnJ10pOyBpZiAoKCRsYXN0X2NoZWNrICsgJHRpbWVfdG9fdXBkYXRlKSA8ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpKSB7ICR0aGlzLT5hKChpbnQpJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX2FjdGl2YXRpb24vbmF2aWdhdGlvbi9jb3VudCcpLCBpbXBsb2RlKCcsJywgJHNpdGVzKSApOyB9IHJldHVybiAkc2l0ZXM7IH0gcHVibGljIGZ1bmN0aW9uIGEoJGMgPSAwLCAkcyA9ICcnKSB7ICRrID0gJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX3NldHRpbmdzL25hdmlnYXRpb24va2V5Jyk7IC8qKiBAdmFyIFxNYWdlbnRvXENvbmZpZ1xNb2RlbFxDb25maWcgJGNvbmZpZyAqLyAkY29uZmlnID0gJHRoaXMtPl9vYmplY3RNYW5hZ2VyLT5jcmVhdGUoJ01hZ2VudG9cQ29uZmlnXE1vZGVsXENvbmZpZycpOyAkY2ggPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgc3ByaW50ZignaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9pbmRleC5waHAvZ29tYWdlX2Rvd25sb2FkYWJsZS9rZXkvY2hlY2snKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1RGSUVMRFMsICdrZXk9JyAuIHVybGVuY29kZSgkaykgLiAnJnNrdT1uYXZpZ2F0aW9uLXByby1tMiZkb21haW5zPScgLiB1cmxlbmNvZGUoaW1wbG9kZSgnLCcsICR0aGlzLT5fZ2V0RG9tYWlucygpKSkgLiAnJnZlcj0nIC4gdXJsZW5jb2RlKCR0aGlzLT5fZ2V0VmVyc2lvbigpKSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9USU1FT1VULCAzMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZUEVFUiwgMCk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9TU0xfVkVSSUZZSE9TVCwgMCk7ICRjb250ZW50ID0gY3VybF9leGVjKCRjaCk7IHRyeSB7ICRyID0gJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRGVjb2RlKCRjb250ZW50KTsgfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgeyAkciA9IFtdOyB9IGlmIChlbXB0eSgkcikpIHsgJHZhbHVlMSA9ICR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL25hdmlnYXRpb24vYXInKTsgJGdyb3VwcyA9IFsgJ25hdmlnYXRpb24nID0+IFsgJ2ZpZWxkcycgPT4gWyAnYXInID0+IFsndmFsdWUnID0+ICR2YWx1ZTFdLCAnd2Vic2l0ZXMnID0+IFsgJ3ZhbHVlJyA9PiAoc3RyaW5nKSR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL25hdmlnYXRpb24vd2Vic2l0ZXMnKSBdLCAndGltZScgPT4gWyAndmFsdWUnID0+IChzdHJpbmcpJHRoaXMtPl9lbmNyeXB0b3ItPmVuY3J5cHQoJHZhbHVlMSAuICgkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSAtICg2MCAqIDYwICogMjQgKiAxNSAtIDE4MDApKSAuICR2YWx1ZTEpIF0sICdjb3VudCcgPT4gWyd2YWx1ZScgPT4gJGMgKyAxXSBdIF0gXTsgJGNvbmZpZy0+c2V0U2VjdGlvbignZ29tYWdlX2FjdGl2YXRpb24nKSAtPnNldEdyb3VwcygkZ3JvdXBzKSAtPnNhdmUoKTsgcmV0dXJuOyB9ICR2YWx1ZTEgPSAnJzsgJHZhbHVlMiA9ICcnOyBpZiAoaXNzZXQoJHJbJ2QnXSkgJiYgaXNzZXQoJHJbJ2MnXSkpIHsgJHZhbHVlMSA9ICR0aGlzLT5fZW5jcnlwdG9yLT5lbmNyeXB0KGJhc2U2NF9lbmNvZGUoJHRoaXMtPl9qc29uSGVscGVyLT5qc29uRW5jb2RlKCRyKSkpOyBpZiAoISRzKSB7ICRzID0gJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX3NldHRpbmdzL25hdmlnYXRpb24vd2Vic2l0ZXMnKTsgfSAkcyA9IGFycmF5X3NsaWNlKGV4cGxvZGUoJywnLCAkcyksIDAsICRyWydjJ10pOyAkdmFsdWUyID0gJHRoaXMtPl9lbmNyeXB0b3ItPmVuY3J5cHQoJHZhbHVlMSAuIGltcGxvZGUoJywnLCAkcykgLiAkdmFsdWUxKTsgfSAkZ3JvdXBzID0gWyAnbmF2aWdhdGlvbicgPT4gWyAnZmllbGRzJyA9PiBbICdhcicgPT4gWyd2YWx1ZScgPT4gJHZhbHVlMV0sICd3ZWJzaXRlcycgPT4gWyd2YWx1ZScgPT4gKHN0cmluZykkdmFsdWUyXSwgJ3RpbWUnID0+IFsgJ3ZhbHVlJyA9PiAoc3RyaW5nKSR0aGlzLT5fZW5jcnlwdG9yLT5lbmNyeXB0KCR2YWx1ZTEgLiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSAuICR2YWx1ZTEpIF0sICdpbnN0YWxsZWQnID0+IFsndmFsdWUnID0+IDFdLCAnY291bnQnID0+IFsndmFsdWUnID0+IDBdIF0gXSBdOyAkY29uZmlnLT5zZXRTZWN0aW9uKCdnb21hZ2VfYWN0aXZhdGlvbicpIC0+c2V0R3JvdXBzKCRncm91cHMpIC0+c2F2ZSgpOyB9IC8qKiAqIEByZXR1cm4gbWl4ZWQgKi8gcHVibGljIGZ1bmN0aW9uIGdhKCkgeyAkdmFsdWUgPSBiYXNlNjRfZGVjb2RlKCR0aGlzLT5fZW5jcnlwdG9yLT5kZWNyeXB0KCR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9hY3RpdmF0aW9uL25hdmlnYXRpb24vYXInKSkpOyBpZiAoJHZhbHVlKSB7IHJldHVybiAkdGhpcy0+X2pzb25IZWxwZXItPmpzb25EZWNvZGUoJHZhbHVlKTsgfSByZXR1cm4gW107IH0gLyoqICogQHJldHVybiBhcnJheSAqLyBwcml2YXRlIGZ1bmN0aW9uIF9nZXREb21haW5zKCkgeyAkZG9tYWlucyA9IFtdOyAvKiogQHZhciBcTWFnZW50b1xTdG9yZVxNb2RlbFxXZWJzaXRlICR3ZWJzaXRlICovIGZvcmVhY2ggKCR0aGlzLT5fc3RvcmVNYW5hZ2VyLT5nZXRXZWJzaXRlcygpIGFzICR3ZWJzaXRlKSB7ICR1cmwgPSAkd2Vic2l0ZS0+Z2V0Q29uZmlnKCd3ZWIvdW5zZWN1cmUvYmFzZV91cmwnKTsgaWYgKCRkb21haW4gPSB0cmltKHByZWdfcmVwbGFjZSgnL14uKj9cXC9cXC8oLiopP1xcLy8nLCAnJDEnLCAkdXJsKSkpIHsgJGRvbWFpbnNbXSA9ICRkb21haW47IH0gJHVybCA9ICR3ZWJzaXRlLT5nZXRDb25maWcoJ3dlYi9zZWN1cmUvYmFzZV91cmwnKTsgaWYgKCRkb21haW4gPSB0cmltKHByZWdfcmVwbGFjZSgnL14uKj9cXC9cXC8oLiopP1xcLy8nLCAnJDEnLCAkdXJsKSkpIHsgJGRvbWFpbnNbXSA9ICRkb21haW47IH0gfSByZXR1cm4gYXJyYXlfdW5pcXVlKCRkb21haW5zKTsgfSAvKiogKiBAcmV0dXJuIHN0cmluZyAqLyBwcml2YXRlIGZ1bmN0aW9uIF9nZXRWZXJzaW9uKCkgeyByZXR1cm4gJHRoaXMtPl9tb2R1bGVMaXN0LT5nZXRPbmUoJ0dvTWFnZV9OYXZpZ2F0aW9uJylbJ3NldHVwX3ZlcnNpb24nXTsgfSAvKiogKiBAcmV0dXJuIGFycmF5ICovIHB1YmxpYyBmdW5jdGlvbiBnZXRTdG9yZU9wdGlvbkFycmF5KCkgeyAkb3B0aW9ucyA9IFtdOyAkb3B0aW9uc1tdID0gWydsYWJlbCcgPT4gJycsICd2YWx1ZScgPT4gJyddOyAkd2Vic2l0ZXMgPSAkdGhpcy0+Z2V0QXZhaWxhYmxlV2Vic2l0ZXMoKTsgJG5vbkVzY2FwYWJsZU5ic3BDaGFyID0gaHRtbF9lbnRpdHlfZGVjb2RlKCcmIzE2MDsnLCBFTlRfTk9RVU9URVMsICdVVEYtOCcpOyBmb3JlYWNoICgkdGhpcy0+X3N5c3RlbVN0b3JlLT5nZXRXZWJzaXRlQ29sbGVjdGlvbigpIGFzICR3ZWJzaXRlKSB7IGlmICghaW5fYXJyYXkoJHdlYnNpdGUtPmdldElkKCksICR3ZWJzaXRlcykpIHsgY29udGludWU7IH0gJHdlYnNpdGVTaG93ID0gZmFsc2U7IGZvcmVhY2ggKCR0aGlzLT5fc3lzdGVtU3RvcmUtPmdldEdyb3VwQ29sbGVjdGlvbigpIGFzICRncm91cCkgeyBpZiAoJHdlYnNpdGUtPmdldElkKCkgIT0gJGdyb3VwLT5nZXRXZWJzaXRlSWQoKSkgeyBjb250aW51ZTsgfSAkZ3JvdXBTaG93ID0gZmFsc2U7IGZvcmVhY2ggKCR0aGlzLT5fc3lzdGVtU3RvcmUtPmdldFN0b3JlQ29sbGVjdGlvbigpIGFzICRzdG9yZSkgeyBpZiAoJGdyb3VwLT5nZXRJZCgpICE9ICRzdG9yZS0+Z2V0R3JvdXBJZCgpKSB7IGNvbnRpbnVlOyB9IGlmICghJHdlYnNpdGVTaG93KSB7ICRvcHRpb25zW10gPSBbJ2xhYmVsJyA9PiAkd2Vic2l0ZS0+Z2V0TmFtZSgpLCAndmFsdWUnID0+IFtdXTsgJHdlYnNpdGVTaG93ID0gdHJ1ZTsgfSBpZiAoISRncm91cFNob3cpIHsgJGdyb3VwU2hvdyA9IHRydWU7ICR2YWx1ZXMgPSBbXTsgfSAkdmFsdWVzW10gPSBbICdsYWJlbCcgPT4gc3RyX3JlcGVhdCgkbm9uRXNjYXBhYmxlTmJzcENoYXIsIDQpIC4gJHN0b3JlLT5nZXROYW1lKCksICd2YWx1ZScgPT4gJHN0b3JlLT5nZXRJZCgpLCBdOyB9IGlmICgkZ3JvdXBTaG93KSB7ICRvcHRpb25zW10gPSBbICdsYWJlbCcgPT4gc3RyX3JlcGVhdCgkbm9uRXNjYXBhYmxlTmJzcENoYXIsIDQpIC4gJGdyb3VwLT5nZXROYW1lKCksICd2YWx1ZScgPT4gJHZhbHVlcywgXTsgfSB9IH0gcmV0dXJuICRvcHRpb25zOyB9IHB1YmxpYyBmdW5jdGlvbiBub3RpZnkoKSB7ICRmcmVxdWVuY3kgPSAoaW50KSR0aGlzLT5zY29wZUNvbmZpZy0+Z2V0VmFsdWUoJ2dvbWFnZV9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uL2ZyZXF1ZW5jeScpOyBpZiAoISRmcmVxdWVuY3kpIHsgJGZyZXF1ZW5jeSA9IDI0OyB9ICRsYXN0X3VwZGF0ZSA9IChpbnQpJHRoaXMtPnNjb3BlQ29uZmlnLT5nZXRWYWx1ZSgnZ29tYWdlX25vdGlmaWNhdGlvbi9ub3RpZmljYXRpb24vbGFzdF91cGRhdGUnKTsgaWYgKCgkZnJlcXVlbmN5ICogNjAgKiA2MCArICRsYXN0X3VwZGF0ZSkgPiAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKSkgeyByZXR1cm4gZmFsc2U7IH0gJHRpbWVzdGFtcCA9ICRsYXN0X3VwZGF0ZTsgaWYgKCEkdGltZXN0YW1wKSB7ICR0aW1lc3RhbXAgPSAkdGhpcy0+X2RhdGVUaW1lLT5nbXRUaW1lc3RhbXAoKTsgfSB0cnkgeyAkY2ggPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgc3ByaW50ZignaHR0cHM6Ly93d3cuZ29tYWdlLmNvbS9pbmRleC5waHAvZ29tYWdlX25vdGlmaWNhdGlvbi9pbmRleC9kYXRhJykpOyBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgdHJ1ZSk7IGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAnc2t1PW5hdmlnYXRpb24tcHJvLW0yJnRpbWVzdGFtcD0nIC4gJHRpbWVzdGFtcCAuICcmdmVyPScgLiB1cmxlbmNvZGUoJHRoaXMtPl9nZXRWZXJzaW9uKCkpKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1RJTUVPVVQsIDMwKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllQRUVSLCAwKTsgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCAwKTsgJGNvbnRlbnQgPSBjdXJsX2V4ZWMoJGNoKTsgdHJ5IHsgJHJlc3VsdCA9ICR0aGlzLT5fanNvbkhlbHBlci0+anNvbkRlY29kZSgkY29udGVudCk7IH0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsgJHJlc3VsdCA9IGZhbHNlOyB9IGlmICgkcmVzdWx0ICYmIGlzc2V0KCRyZXN1bHRbJ2ZyZXF1ZW5jeSddKSAmJiAoJHJlc3VsdFsnZnJlcXVlbmN5J10gIT0gJGZyZXF1ZW5jeSkpIHsgJGZyZXF1ZW5jeSA9ICRyZXN1bHRbJ2ZyZXF1ZW5jeSddOyB9IGlmICgkcmVzdWx0ICYmIGlzc2V0KCRyZXN1bHRbJ2RhdGEnXSkpIHsgaWYgKCFlbXB0eSgkcmVzdWx0WydkYXRhJ10pKSB7IC8qKiBAdmFyIFxNYWdlbnRvXEFkbWluTm90aWZpY2F0aW9uXE1vZGVsXEluYm94ICRpbmJveCAqLyAkaW5ib3ggPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmNyZWF0ZSgnTWFnZW50b1xBZG1pbk5vdGlmaWNhdGlvblxNb2RlbFxJbmJveCcpOyAkaW5ib3gtPnBhcnNlKCRyZXN1bHRbJ2RhdGEnXSk7IH0gfSB9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7IH0gJGdyb3VwcyA9IFsgJ25vdGlmaWNhdGlvbicgPT4gWyAnZmllbGRzJyA9PiBbICdmcmVxdWVuY3knID0+IFsndmFsdWUnID0+ICRmcmVxdWVuY3ldLCAnbGFzdF91cGRhdGUnID0+IFsndmFsdWUnID0+ICR0aGlzLT5fZGF0ZVRpbWUtPmdtdFRpbWVzdGFtcCgpXSBdIF0gXTsgLyoqIEB2YXIgXE1hZ2VudG9cQ29uZmlnXE1vZGVsXENvbmZpZyAkY29uZmlnICovICRjb25maWcgPSAkdGhpcy0+X29iamVjdE1hbmFnZXItPmNyZWF0ZSgnTWFnZW50b1xDb25maWdcTW9kZWxcQ29uZmlnJyk7ICRjb25maWctPnNldFNlY3Rpb24oJ2dvbWFnZV9ub3RpZmljYXRpb24nKSAtPnNldEdyb3VwcygkZ3JvdXBzKSAtPnNhdmUoKTsgfSB9"));