<?php
/**
 * Product list toolbar
 *
 * @var $block \Magento\Catalog\Block\Product\ProductList\Toolbar
 */
use Magento\Catalog\Model\Product\ProductList\Toolbar;

/**
 * @var \GoMage\Navigation\Helper\Data $helper
 */
$helper = $this->helper('GoMage\Navigation\Helper\Data');
?>

<?php if ($block->isEnabledViewSwitcher()): ?>
<div class="modes">
    <?php $_modes = $block->getModes(); ?>
    <?php if ($_modes && count($_modes) > 1): ?>
    <strong class="modes-label" id="modes-label"><?= __('View as') ?></strong>
    <?php foreach ($block->getModes() as $_code => $_label): ?>
        <?php if ($block->isModeActive($_code)): ?>
            <strong title="<?=$block->escapeHtml($_label) ?>"
                class="modes-mode active mode-<?= $block->escapeHtml(strtolower($_code)); ?>"
                    data-role="navigation-filter"
                    data-param="product_list_mode"
                    <?php if($helper->isPaginationAjax()): ?>data-ajax="1" <?php endif; ?>
                    data-active="1"
                    data-value="<?= $block->escapeHtml(strtolower($_code)); ?>">
                <span><?= $block->escapeHtml($_label) ?></span>
            </strong>
        <?php else: ?>
            <a class="modes-mode mode-<?= $block->escapeHtml(strtolower($_code)); ?>"
               title="<?= $block->escapeHtml($_label) ?>"
               href="#"
               id="mode-<?= $block->escapeHtml(strtolower($_code)); ?>"
               aria-labelledby="modes-label mode-<?= $block->escapeHtml(strtolower($_code)); ?>"
               data-role="navigation-filter"
               data-value="<?= $block->escapeHtml(strtolower($_code)); ?>"
               data-param="product_list_mode"
               <?php if($helper->isPaginationAjax()): ?>data-ajax="1" <?php endif; ?>
               data-active="">
                <span><?= $block->escapeHtml($_label) ?></span>
            </a>
            <?php endif; ?>
        <?php endforeach; ?>
    <?php endif; ?>
</div>
<?php endif; ?>
