<?php
/**
 * Template for filter items block
 *
 * @var $block \GoMage\Navigation\Block\Navigation\FilterRenderer
 */

$filter = reset($filterItems)->getFilter();

?>

<div class="gan-filter gan-filter-slider">
    <?=$block->getTooltip($filter)->toHtml()?>
    <?php $attributeCode = $filter->getAttributeModel()->getAttributeCode(); ?>
        <div class="layout">
            <div class="layout-slider">
                <span>
                    <input style="display: none;"
                           data-role="navigation-filter"
                        <? if (!empty($filter->isActive())): ?>
                            data-active="1"
                        <? endif; ?>
                           data-from="<?= $block->escapeHtmlAttr($filter->getMinBasePrice()); ?>"
                           data-to="<?= $block->escapeHtmlAttr($filter->getMaxBasePrice()); ?>"
                           data-step="<?= $block->escapeHtmlAttr($block->getStep()); ?>"
                           data-skin="<?= $block->escapeHtmlAttr($block->getSliderSkin()); ?>"
                           data-code="<?= $block->escapeHtmlAttr($attributeCode); ?>"
                           data-dimension="&nbsp;<?= $block->escapeHtmlAttr($filter->getCurrencySymbol()); ?>"
                           data-param="<?= $block->escapeHtmlAttr($filter->getRequestVar()) ?>"
                           data-ajax="1"
                           id="<?= $block->escapeHtmlAttr($attributeCode); ?>"
                           data-type="slider"
                           type="slider"
                           name="<?= $block->escapeHtmlAttr($attributeCode); ?>"
                           value="<?= $block->escapeHtmlAttr($filter->getSingleValue()) ?>"
                           data-value="<?= $block->escapeHtmlAttr(str_replace(';', '-', $filter->getSingleValue())); ?>"
                    />
                </span>
            </div>
        </div>
</div>
<style type="text/css">
    
    <?if($block->getNavigationViewHelper()->getNavigationViewSliderLineHeight() < $block->getNavigationViewHelper()->getNavigationViewSliderElementHeight()):?>
    .gan-filter-slider .layout{
        padding-bottom:<?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderElementHeight())?>px;
        margin-left: <?=$block->escapeHtmlAttr(($block->getNavigationViewHelper()->getNavigationViewSliderElementWidth() / 2))?>px;
        margin-right: <?=$block->escapeHtmlAttr(($block->getNavigationViewHelper()->getNavigationViewSliderElementWidth() / 2))?>px;
    }
    .gan-filter-slider .jslider .jslider-label,
    .gan-filter-slider .jslider .jslider-value{
        margin-top: <?= $block->escapeHtmlAttr((($block->getNavigationViewHelper()->getNavigationViewSliderElementHeight() - $block->getNavigationViewHelper()->getNavigationViewSliderLineHeight()) / 2 + 10)) ?>px;
    }
    <?endif;?>

    .gan-filter-slider .jslider .jslider-bg,
    .gan-filter-slider .jslider .jslider-bg .f,
    .gan-filter-slider .jslider .jslider-bg .r,
    .gan-filter-slider .jslider .jslider-bg .l,
    .gan-filter-slider .jslider .jslider-bg .v{

        /* Slider Line Height */
        height: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderLineHeight())?>px;
        
    }
    
    .gan-filter-slider .jslider .jslider-bg .v{
        
        /* Slider Line Color */
        background: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderLineColor())?>;

    }
    
    .gan-filter-slider .jslider_round_plastic .jslider-pointer{
        
        /* Slider Element Color */
        background: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderElementColor())?>;
        
        /* Slider Element Width */
        width: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderElementWidth())?>px;
        
        /* Slider Element Height */
        height: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderElementHeight())?>px;
        
        /* Slider Element Radius */
        border-radius: <?=$block->escapeHtmlAttr($block->getNavigationViewHelper()->getNavigationViewSliderElementRadius())?>px;

    }
    
</style>