<?php
/**
 *
 * @var $block \GoMage\Navigation\Block\Navigation\FilterRenderer
 */

$filter = reset($filterItems)->getFilter();

?>

<div class="gan-filter gan-filter-dropdown">
    <?=$block->getTooltip($filter)->toHtml()?>
    <select data-role="navigation-filter"
            data-param="<?= $block->escapeHtmlAttr($filter->getRequestVar()) ?>"
            data-type="select"
            <?if ($filter->getGomageIsAjax() || is_null($filter->getGomageIsAjax())):?>
                data-ajax="1"
            <?else:?>
                data-ajax="0"
            <?endif;?>
            <?php if (!empty($filter->getUsedOptions())): ?>
                data-active="1"
            <? endif; ?>
    >
        <option value=""><?= __('Select Filter') ?></option>
        <?php foreach ($filterItems as $item): ?>
            <?php if ($item->getCount() > 0 && $item->isShowAppliedValues()): ?>
                <option value="<?= $block->escapeHtml($item->getValueString()) ?>"
                        <?php if ($item->getIsActive()): ?>selected="selected" data-active="1"<?php endif ?>>
                    <?= $block->escapeHtml($item->getLabel() . ' (' . $item->getCount() . ')') ?>
                </option>
            <?php endif; ?>
        <?php endforeach ?>
    </select>
</div>
