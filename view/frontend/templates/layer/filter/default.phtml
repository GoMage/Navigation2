<?php
/**
 *
 * @var $block \Gomage\Navigation\Block\Navigation\FilterRenderer
 */

$filter = reset($filterItems)->getFilter();

?>
<ol class="items gan-filter gan-filter-default
<?php if($filter->getGomageFilterType() == \GoMage\Navigation\Model\Config\Source\Navigation::IN_BLOCK) echo ' gan-filter-in-block'; ?>
<? if($filter->getGomageIsCheckbox()):?> gan-filter-checkbox<?endif;?>"
    <?php if($filter->getGomageFilterType() == \GoMage\Navigation\Model\Config\Source\Navigation::IN_BLOCK && $filter->getGomageMaxBlockHeight()): ?>
        style="max-height:<?= $block->escapeHtmlAttr($filter->getGomageMaxBlockHeight()); ?>px;"
    <?endif;?>>
    <?=$block->getTooltip($filter)->toHtml()?>
    <?php foreach ($filterItems as $item): ?>
        <li class="item">
            <?php if ($item->getCount() > 0 && $item->isShowAppliedValues()): ?>
                <a <?php if(!$item->getIsActive()):?> href="<?= $block->escapeUrl($item->getGomageUrl()); ?> <?endif;?>"
                    <?php if($item->getIsActive()):?>
                        class="active"
                    <?endif;?>
                   data-role="navigation-filter"
                   data-url="<?php if(!$item->getIsActive()):?><?= $block->escapeUrl($item->getGomageUrl()) ?> <?endif;?>"
                   data-value="<?= $block->escapeHtmlAttr($item->getGomageValue()) ?>"
                   data-param="<?= $block->escapeHtmlAttr($filter->getRequestVar()) ?>"
                   <?if ($filter->getGomageIsAjax() || is_null($filter->getGomageIsAjax())):?>
                        data-ajax="1"
                   <?else:?>
                        data-ajax="0"
                   <?endif;?>
                   data-type="<?= (int) $filter->getGomageFilterType(); ?>"
                   <?php if($item->getIsActive()):?>
                    data-active="1"
                    <?php endif;?>>
                    <span class="filter-label-wrap">
                        <span class="filter-label-text"><?= $block->escapeHtml($item->getLabel()) ?></span>
                        <? if ($block->getHelper()->isShowValueQty()): ?>
                            <span class="count"><?= (int) $item->getCount() ?><span class="filter-count-label">
                            <?php if ($item->getCount() == 1): ?><?= __('item') ?><?php else: ?><?= __('items') ?><?php endif; ?></span></span>
                        <? endif; ?>
                    </span>
                </a>
            <?php endif; ?>
        </li>
    <?php endforeach ?>
</ol>
