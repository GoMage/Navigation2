<?php

/**
 * Template for filter items block
 *
 * @var $block \GoMage\Navigation\Block\Navigation\FilterRenderer
 */

$filter = reset($filterItems)->getFilter();

$priceValues = explode(';', $filter->getSingleValue());

?>

<div class="gan-filter gan-filter-slider gan-filter-slider-input">
    <div class="layout">
        <?=$block->getTooltip($filter)->toHtml()?>
        <div class="layout-slider">
            <span>
                <input style="display: none;"
                       data-role="navigation-filter"
                       data-active=""
                       data-from="<?php echo $filter->getMinBasePrice(); ?>"
                       data-to="<?php echo $filter->getMaxBasePrice(); ?>"
                       data-step="<?php echo $block->getStep(); ?>"
                       data-skin="<?php echo $block->getSliderSkin(); ?>"
                       data-code="<?php echo $filter->getAttributeModel()->getAttributeCode(); ?>"
                       data-dimension="&nbsp;<?php echo $filter->getCurrencySymbol(); ?>"
                       data-param="<?php echo $filter->getRequestVar() ?>"
                        <?if ($filter->getGomageIsAjax() || is_null($filter->getGomageIsAjax())):?>
                            data-ajax="1"
                        <?else:?>
                            data-ajax="0"
                        <?endif;?>
                       id="<?php echo $filter->getAttributeModel()->getAttributeCode(); ?>"
                       data-type="slider"
                       type="slider"
                       name="<?php echo $filter->getAttributeModel()->getAttributeCode(); ?>"
                       value="<?php echo $filter->getSingleValue() ?>"/>
            </span>
        </div>
    </div>
    <div class="gan-filter gan-filter-input">
        <form>
            <fieldset class="gan-filter-input-fieldset">
                <div class="gan-filter-input-fields">
                    <div class="from-wrapper">
                        <label>
                            <input id="price-from"
                                   <?php if(!$filter->getGomageIsShowFilterButton()):?>
                                       data-role="navigation-filter"
                                       data-type="input-price"
                                   <?php endif;?>
                                   type="text"
                                   value="<?php echo $priceValues[0]; ?>" />
                        </label>
                    </div>
                    <div class="to-text-wrapper">
                        <span><?php echo __('to')?></span>
                    </div>
                    <div class="to-wrapper">
                        <label>
                            <input id="price-to"
                                   <?php if(!$filter->getGomageIsShowFilterButton()):?>
                                       data-role="navigation-filter"
                                       data-type="input-price"
                                   <?php endif;?>
                                   type="text"
                                   value="<?php echo $priceValues[1]; ?>" />
                        </label>
                    </div>
                </div>
                <?php if($filter->getGomageIsShowFilterButton()):?>
                    <div class="gan-filter-input-actions">
                        <button id="price-button" data-role="navigation-filter" data-type="price-button" class="gan-custom-button" type="submit"
                                style="
                                    <?if($block->getNavigationViewHelper()->isNavigationViewButtonsGradient() && !empty($block->getNavigationViewHelper()->getNavigationViewButtonsBackgroundColor2())):?>
                                        background: linear-gradient(to bottom, <?=$block->getNavigationViewHelper()->getNavigationViewButtonsBackgroundColor()?>, <?=$block->getNavigationViewHelper()->getNavigationViewButtonsBackgroundColor2()?>);
                                    <?elseif(!empty($block->getNavigationViewHelper()->getNavigationViewButtonsBackgroundColor())):?>
                                        background: <?=$block->getNavigationViewHelper()->getNavigationViewButtonsBackgroundColor()?>;
                                    <?endif;?>
                                    <?if(!empty($block->getNavigationViewHelper()->getNavigationViewButtonsTextColor())):?>
                                        color: <?=$block->getNavigationViewHelper()->getNavigationViewButtonsTextColor()?>
                                    <?endif;?>
                        ">
                            <span><?php echo __('Filter'); ?></span>
                        </button>
                    </div>
                <?php endif;?>
            </fieldset>
        </form>
    </div>
</div>
<style type="text/css">
    
    .gan-filter-slider .jslider .jslider-bg,
    .gan-filter-slider .jslider .jslider-bg .f,
    .gan-filter-slider .jslider .jslider-bg .r,
    .gan-filter-slider .jslider .jslider-bg .l,
    .gan-filter-slider .jslider .jslider-bg .v{

        /* Slider Line Height */
        height: <?=$block->getNavigationViewHelper()->getNavigationViewSliderLineHeight()?>px;        
        
    }
    
    .gan-filter-slider .jslider .jslider-bg .v{
        
        /* Slider Line Color */
        background: <?=$block->getNavigationViewHelper()->getNavigationViewSliderLineColor()?>;

    }
    
    .gan-filter-slider .jslider_round_plastic .jslider-pointer{
        
        /* Slider Element Color */
        background: <?=$block->getNavigationViewHelper()->getNavigationViewSliderElementColor()?>;
        
        /* Slider Element Width */
        width: <?=$block->getNavigationViewHelper()->getNavigationViewSliderElementWidth()?>px;
        
        /* Slider Element Height */
        height: <?=$block->getNavigationViewHelper()->getNavigationViewSliderElementHeight()?>px;
        
        /* Slider Element Radius */
        border-radius: <?=$block->getNavigationViewHelper()->getNavigationViewSliderElementRadius()?>px;

    }
    
</style>